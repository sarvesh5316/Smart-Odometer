<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contact Us</title>
  <link rel="stylesheet" href="../contact/contact.css" />
</head>
<body>
  <header>
    <h1>Contact Us</h1>
  </header>

  <main id="mainclass">
    <form id="contactForm">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required /><br />

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required /><br />

      <label for="message">Message:</label>
      <textarea id="message" name="message" required></textarea><br />

      <input type="submit" value="Submit" />
    </form>
    <div id="statusMessage"></div>
  </main>

  <footer>
    <p>&copy; 2024 @OdoTracker</p>
    <p>REC Azamgarh, Deogaon, Lalganj, 276201 (IN)</p>
    <p>Phone: +91 9795384656</p>
    <p>Email: contact@odotracker.com</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
  <script>
    (function() {
      emailjs.init("d4GvQgmpjYqwv4eeG");  // Replace with your EmailJS user ID
    })();

    document.getElementById('contactForm').addEventListener('submit', function(event) {
      event.preventDefault();

      // Collect form data
      const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        message: document.getElementById('message').value,
      };

      emailjs.send('service_7nrfhci', 'template_ed6t4vu', formData)  // Replace with your Service ID and Template ID
        .then(function() {
          document.getElementById('statusMessage').innerText = 'Message sent successfully!';
          document.getElementById('statusMessage').style.color = 'green';
          document.getElementById('contactForm').reset();
        }, function(error) {
          document.getElementById('statusMessage').innerText = 'Failed to send the message. Please try again.';
          document.getElementById('statusMessage').style.color = 'red';
          console.error('Failed...', error);
        });
    });
  </script>
</body>
</html>
